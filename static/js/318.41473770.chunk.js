"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[318],{318:(e,t,s)=>{s.r(t),s.d(t,{default:()=>n});var a=s(43),l=s(129),i=s(948),p=s(568),r=s(579);const n=e=>{let{verb:t,language:s,onCheckAnswer:n,onSetFeedback:c,isRevealedExternally:o,onSetCorrect:d}=e;const{t:u}=(0,l.s)(),m=(0,p.A)(),[b,x]=(0,a.useState)(""),[g,f]=(0,a.useState)(""),[h,y]=(0,a.useState)(null),[S,P]=(0,a.useState)(null),[k,v]=(0,a.useState)(!1);(0,a.useEffect)(()=>{x(""),f(""),y(null),P(null),v(!1),c&&c({message:"",type:""}),d&&d(!1)},[t,c,d]),(0,a.useEffect)(()=>{o&&!k&&(x(t.pastSimple.split("/")[0]),f(t.pastParticiple.split("/")[0]),y(!0),P(!0),v(!0),d&&d(!0),c&&c({message:u("feedback.answersRevealedIrregular","Base: {base}, Past Simple: {ps}, Past Participle: {pp}",{base:t.base,ps:t.pastSimple,pp:t.pastParticiple}),type:"info"}))},[o,t,k,d,c,u]);const j=a.useCallback(()=>{if(k&&!o)return;const e=(0,i.J2)(b),s=(0,i.J2)(g),a=t.pastSimple.split("/").map(e=>(0,i.J2)(e)),l=t.pastParticiple.split("/").map(e=>(0,i.J2)(e)),p=a.includes(e),r=l.includes(s);if(y(p),P(r),p&&r)return c&&c({message:u("feedback.correctAllForms","Correct! All forms are right."),type:"success"}),d&&d(!0),v(!0),!0;{let e=[];return!p&&b&&e.push(u("feedback.pastSimpleIncorrect","Past Simple is incorrect.")),!r&&g&&e.push(u("feedback.pastParticipleIncorrect","Past Participle is incorrect.")),""!==b&&""!==g||e.push(u("feedback.fillAllForms","Please fill in both forms.")),c&&c({message:e.join(" ")||u("feedback.tryAgain","Try again."),type:"incorrect"}),d&&d(!1),v(!1),!1}},[k,o,b,g,t,c,u,d,y,P,v]);(0,a.useEffect)(()=>{n&&(n.current=j)},[n,j]);const A={display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"center",marginBottom:"15px",gap:"10px"},C={minWidth:"120px",textAlign:"right",flexBasis:"120px"},F=e=>({padding:"8px",fontSize:"1rem",border:"1px solid "+(!1===e?"red":!0===e?"green":"#ccc"),borderRadius:"4px",width:"clamp(150px, 60%, 200px)",boxSizing:"border-box",textAlign:"center"});return(0,r.jsxs)("div",{style:{margin:"20px 0",padding:"15px",border:"1px solid #e0e0e0",borderRadius:"5px"},children:[(0,r.jsxs)("p",{style:{fontWeight:"bold",marginBottom:"20px",fontSize:"1.2em",textAlign:"center"},children:[u("labels.verbBaseForm","Verb (Base Form):")," ",m(t.base,s)]}),(0,r.jsxs)("div",{style:A,children:[(0,r.jsx)("label",{htmlFor:"pastSimple",style:C,children:u("labels.pastSimple","Past Simple:")}),(0,r.jsx)("input",{type:"text",id:"pastSimple",value:b,onChange:e=>{x(e.target.value),y(null),v(!1),d&&d(!1),c&&c({message:"",type:""})},disabled:k&&!o,style:F(h),"aria-label":u("ariaLabels.pastSimpleInput","Past simple input")})]}),(0,r.jsxs)("div",{style:A,children:[(0,r.jsx)("label",{htmlFor:"pastParticiple",style:C,children:u("labels.pastParticiple","Past Participle:")}),(0,r.jsx)("input",{type:"text",id:"pastParticiple",value:g,onChange:e=>{f(e.target.value),P(null),v(!1),d&&d(!1),c&&c({message:"",type:""})},disabled:k&&!o,style:F(S),"aria-label":u("ariaLabels.pastParticipleInput","Past participle input")})]})]})}}}]);
//# sourceMappingURL=318.41473770.chunk.js.map