.fill-gaps-box-block {
    padding: 15px;
    border: 1px solid #e0e0e0;
    border-radius: 5px;
    margin-bottom: 20px;
    background-color: #fff;
}

.fill-gaps-box-block h4 {
    margin-top: 0;
    margin-bottom: 10px;
    font-size: 1.3em;
    color: #333;
}

.fill-gaps-box-block .instructions {
    margin-bottom: 15px;
    font-style: italic;
    color: #555;
}

.word-box-container {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    padding: 10px;
    margin-bottom: 20px;
    border: 1px dashed #ccc;
    border-radius: 4px;
    min-height: 40px; /* Ensure it's visible even when empty */
    background-color: #f9f9f9;
}

.draggable-word {
    padding: 5px 10px;
    background-color: var(--primary-color-light, #cfe2ff);
    border: 1px solid var(--primary-color, #0d6efd);
    border-radius: 4px;
    cursor: grab;
    user-select: none; /* Prevent text selection during drag */
    transition: box-shadow 0.2s;
}

.draggable-word:hover {
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}

.draggable-word:active {
    cursor: grabbing;
    box-shadow: 0 4px 8px rgba(0,0,0,0.2);
}

.empty-box-placeholder {
    color: #999;
    font-style: italic;
}

.gapped-text-container {
    line-height: 2; /* Increased line height for better readability and drop targets */
    font-size: 1.1em;
    padding: 10px;
    border: 1px solid #eee;
    background-color: #fdfdfd;
    border-radius: 4px;
}

.gapped-text-container .text-segment {
    /* Normal text styling */
}

.gap-placeholder {
    display: inline-block;
    min-width: 80px; /* Minimum width for a gap */
    height: 24px; /* Height to match line height */
    padding: 2px 8px;
    border: 1px dashed #aaa;
    background-color: #f0f0f0;
    border-radius: 3px;
    text-align: center;
    color: #777;
    font-style: italic;
    vertical-align: baseline; /* Align with surrounding text */
    margin: 0 2px; /* Small margin around gaps */
    cursor: default; /* Default cursor for empty gaps */
}

.gap-placeholder.filled {
    border-style: solid;
    border-color: var(--primary-color-dark, #0a58ca);
    background-color: var(--primary-color-xlight, #e7f1ff);
    color: var(--primary-text-on-light, #000);
    font-style: normal;
    cursor: grab; /* Allow dragging from filled gap */
}

/* Highlight on drag over a gap */
.gap-placeholder.drag-over-active {
    background-color: #d4edda; /* Light green to indicate valid drop target */
    border-style: solid;
    border-color: #c3e6cb;
}
