"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[286],{286:(e,s,t)=>{t.r(s),t.d(s,{default:()=>u});var r=t(43),n=t(951),i=t(338),a=t(381),o=t(444),c=t(568),l=t(948),d=t(547),p=t(579);const u=e=>{let{language:s,days:t,exerciseKey:u}=e;const[x,g]=(0,r.useState)(null),[h,f]=(0,r.useState)(""),[m,w]=(0,r.useState)({message:"",type:""}),[y,v]=(0,r.useState)(!0),[_,b]=(0,r.useState)(null),[k,A]=(0,r.useState)(!1),[S,j]=(0,r.useState)([]),{isLatinized:C}=(0,o.te)(),E=(0,c.A)(),{t:L}=(0,d.s)(),P=(0,r.useCallback)(e=>{if(e&&e.length>0){const s=Math.floor(Math.random()*e.length);g(e[s]),f(""),w({message:"",type:""}),A(!1),b(null)}else b(L("exercises.noPossessivesFound","No possessives exercises found for the selected criteria.")),g(null);v(!1)},[L]),N=(0,r.useCallback)(async()=>{v(!0),b(null);try{const{data:e,error:r}=await(0,n.gv)(s,t);if(r)throw new Error(r.message||r.error||L("errors.failedLoadPossessives"));j(e||[]),P(e||[])}catch(e){console.error("PossessivesExercise - Error fetching exercises:",e),b(e.message||L("errors.unexpectedError")),v(!1),g(null)}},[s,t,P,L]);(0,r.useEffect)(()=>{s&&t&&t.length>0?N():(v(!1),b(L("errors.selectLangDay")),g(null))},[N,u,s,t,L]);if(y)return(0,p.jsx)("p",{children:L("loading.possessivesExercise","Loading possessives exercise...")});if(_)return(0,p.jsx)(i.A,{message:_,type:"error"});if(!x)return(0,p.jsx)(i.A,{message:L("exercises.noPossessivesLoaded","No possessive exercise loaded. Try different selections or check data."),type:"info"});let R=[],z="____";return x.sentence.includes("____")?R=x.sentence.split("____"):x.sentence.includes("_")?(R=x.sentence.split("_"),z="_"):R=[x.sentence,""],(0,p.jsxs)("div",{style:{textAlign:"center",padding:"20px",border:"1px solid #eee",borderRadius:"8px",maxWidth:"600px",margin:"auto"},children:[(0,p.jsx)("h3",{children:L("titles.fillThePossessive","Fill in the Correct Possessive")}),(0,p.jsxs)("p",{style:{fontSize:"1.1rem",margin:"15px 0"},children:[E(R[0],s),(0,p.jsx)("input",{type:"text",value:h,onChange:e=>{f(e.target.value),m.message&&w({message:"",type:""})},placeholder:z,disabled:k||y,style:{padding:"8px",fontSize:"1rem",width:"".concat(Math.max(10*x.answer.length,60),"px"),minWidth:"60px",maxWidth:"150px",margin:"0 5px",border:"1px solid #ccc",borderRadius:"4px",textAlign:"center"}}),E(R[1]||"",s)]}),(0,p.jsx)(i.A,{message:m.message,type:m.type,language:s}),(0,p.jsx)(a.A,{onCheckAnswer:!k&&x?()=>{if(!x||k)return;const e=x.answer,t=(0,l.J2)(h),r=(0,l.J2)(e),n=C?E(e,s):e;w(t===r?{message:L("feedback.correct"),type:"correct"}:{message:L("feedback.incorrectAnswerIs",{correctAnswer:n}),type:"incorrect"})}:void 0,onShowHint:!k&&x?()=>{if(!x||k)return;const e=x.answer[0],t=E(e,s);w({message:L("feedback.hintFirstLetterIs",{letter:t}),type:"hint"})}:void 0,onRevealAnswer:!k&&x?()=>{if(!x)return;const e=x.answer,t=C?E(e,s):e;f(e),w({message:L("feedback.correctAnswerIs",{correctAnswer:t}),type:"info"}),A(!0)}:void 0,onNextExercise:()=>{v(!0),P(S)},config:{showCheck:!k&&!!x,showHint:!k&&!!x,showReveal:!k&&!!x,showNext:!0}})]})}}}]);
//# sourceMappingURL=286.d7f530e8.chunk.js.map