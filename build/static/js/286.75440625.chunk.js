"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[286],{3286:(e,s,r)=>{r.r(s),r.d(s,{default:()=>g});var t=r(5043),n=r(6951),a=r(3338),i=r(1381),o=r(5444),c=r(6568),l=r(4948),d=r(5499),p=r(941),u=r(579);const g=e=>{let{language:s,days:r,exerciseKey:g}=e;const[x,h]=(0,t.useState)(null),[f,m]=(0,t.useState)(""),[v,w]=(0,t.useState)({message:"",type:""}),[y,_]=(0,t.useState)(!0),[A,b]=(0,t.useState)(null),[k,S]=(0,t.useState)(!1),[j,C]=(0,t.useState)([]),{isLatinized:E}=(0,o.te)(),J=(0,c.A)(),L=(0,d.p)(),{t:P}=(0,p.s)(),R=(0,t.useCallback)(e=>{if(e&&e.length>0){const s=Math.floor(Math.random()*e.length);h(e[s]),m(""),w({message:"",type:""}),S(!1),b(null)}else b(P("exercises.noPossessivesFound","No possessives exercises found for the selected criteria.")),h(null);_(!1)},[P]),I=(0,t.useCallback)(async()=>{_(!0),b(null);try{const{data:e,error:t}=await(0,n.gv)(s,r);if(t)throw new Error(t.message||t.error||P("errors.failedLoadPossessives"));C(e||[]),R(e||[])}catch(e){console.error("PossessivesExercise - Error fetching exercises:",e),b(e.message||P("errors.unexpectedError")),_(!1),h(null)}},[s,r,R,P]);(0,t.useEffect)(()=>{s&&r&&r.length>0?I():(_(!1),b(P("errors.selectLangDay")),h(null))},[I,g,s,r,P]);if(y)return(0,u.jsx)("p",{children:P("loading.possessivesExercise","Loading possessives exercise...")});if(A)return(0,u.jsx)(a.A,{message:A,type:"error"});if(!x)return(0,u.jsx)(a.A,{message:P("exercises.noPossessivesLoaded","No possessive exercise loaded. Try different selections or check data."),type:"info"});let N=[],z="____";return x.sentence.includes("____")?N=x.sentence.split("____"):x.sentence.includes("_")?(N=x.sentence.split("_"),z="_"):N=[x.sentence,""],(0,u.jsxs)("div",{style:{textAlign:"center",padding:"20px",border:"1px solid #eee",borderRadius:"8px",maxWidth:"600px",margin:"auto"},children:[(0,u.jsx)("h3",{children:P("titles.fillThePossessive","Fill in the Correct Possessive")}),(0,u.jsxs)("p",{style:{fontSize:"1.1rem",margin:"15px 0"},children:[J(N[0],s),(0,u.jsx)("input",{type:"text",value:f,onChange:e=>{m(e.target.value),v.message&&w({message:"",type:""})},placeholder:z,disabled:k||y,style:{padding:"8px",fontSize:"1rem",width:"".concat(Math.max(10*x.answer.length,60),"px"),minWidth:"60px",maxWidth:"150px",margin:"0 5px",border:"1px solid #ccc",borderRadius:"4px",textAlign:"center"}}),J(N[1]||"",s)]}),(0,u.jsx)(a.A,{message:v.message,type:v.type,language:s}),(0,u.jsx)(i.A,{onCheckAnswer:!k&&x?()=>{if(!x||k)return;const e=x.answer,r=(0,l.J2)(f),t=(0,l.J2)(e),n=E?J(e,s):e,a="possessive_".concat((0,l.J2)(x.sentence.split(" ")[0]),"_").concat((0,l.J2)(e));r===t?(w({message:P("feedback.correct"),type:"correct"}),L.awardCorrectAnswer(a,"grammar-possessive")):(w({message:P("feedback.incorrectAnswerIs",{correctAnswer:n}),type:"incorrect"}),L.awardIncorrectAnswer(a,"grammar-possessive"))}:void 0,onShowHint:!k&&x?()=>{if(!x||k)return;const e=x.answer[0],r=J(e,s);w({message:P("feedback.hintFirstLetterIs",{letter:r}),type:"hint"})}:void 0,onRevealAnswer:!k&&x?()=>{if(!x)return;const e=x.answer,r=E?J(e,s):e,t="possessive_".concat((0,l.J2)(x.sentence.split(" ")[0]),"_").concat((0,l.J2)(e));m(e),w({message:P("feedback.correctAnswerIs",{correctAnswer:r}),type:"info"}),S(!0),L.scheduleReview(t,"grammar-possessive",!1)}:void 0,onNextExercise:()=>{_(!0),R(j)},config:{showCheck:!k&&!!x,showHint:!k&&!!x,showReveal:!k&&!!x,showNext:!0}})]})}}}]);
//# sourceMappingURL=286.75440625.chunk.js.map