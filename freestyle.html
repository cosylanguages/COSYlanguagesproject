<!doctype html><html lang="en"><head><meta charset="utf-8"/><link rel="icon" href="/COSYlanguagesproject/favicon.ico"/><meta name="viewport" content="width=device-width,initial-scale=1"/><meta name="theme-color" content="#000000"/><meta name="description" content="COSYlanguages Freestyle Mode"/><link rel="apple-touch-icon" href="/COSYlanguagesproject/logo192.png"/><link rel="manifest" href="/COSYlanguagesproject/manifest.json"/><title>COSYlanguages - Freestyle</title><style>body { font-family: sans-serif; margin: 0; padding: 20px; background-color: #f4f4f4; color: #333; }
      .container { max-width: 1200px; margin: 0 auto; background-color: #fff; padding: 20px; border-radius: 8px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
      h1 { color: #333; text-align: center; }
      .island-placeholder { padding: 15px; margin-bottom: 15px; border: 1px dashed #ccc; border-radius: 4px; background-color: #f9f9f9; }
      #language-selector-island-container { margin-bottom: 20px; }
      #freestyle-controls-container { margin-bottom: 20px; }
      #exercise-host-container { padding-top: 20px; border-top: 1px solid #eee; }
      label { display: block; margin-bottom: 5px; font-weight: bold; }</style><script defer="defer" src="/COSYlanguagesproject/static/js/freestyle.94d92981.js"></script><link href="/COSYlanguagesproject/static/css/freestyle.4126c8d2.css" rel="stylesheet"></head><body><noscript>You need to enable JavaScript to run this app.</noscript><div class="container"><h1>Freestyle Mode</h1><div id="language-selector-island-container" class="island-placeholder"><p>Loading Language Selector...</p></div><div id="freestyle-debug-status" style="padding: 5px; margin-bottom: 10px; background-color: #eee; border: 1px solid #ddd;"></div><div id="freestyle-controls-container" class="island-placeholder"><div id="day-selector-island-container" class="island-placeholder" style="display: none;"><p>Loading Day Selector...</p></div><div id="practice-nav-island-container" class="island-placeholder" style="display: none;"><p>Loading Practice Navigation...</p></div><p id="freestyle-controls-placeholder-text">Select language and days to see exercises.</p></div><div id="exercise-host-container" class="island-placeholder"><p>Exercise Area</p></div></div><script>// Listener for the custom event from the language island
        window.addEventListener('languageIslandChange', function(event) {
            console.log('Message received in freestyle.html (debug listener): Language changed to:', event.detail.selectedLanguage);
            const debugStatusDiv = document.getElementById('freestyle-debug-status');
            if (debugStatusDiv) {
                debugStatusDiv.innerHTML = `<p>Debug: Language set to <strong>${event.detail.selectedLanguage}</strong>. Waiting for Day Selector...</p>`;
            }
        });

        window.addEventListener('dayIslandConfirm', function(event) {
            console.log('Message received in freestyle.html (debug listener): Days confirmed:', event.detail.confirmedDays);
            const debugStatusDiv = document.getElementById('freestyle-debug-status');
            if (debugStatusDiv) { // Append to existing or set new
                debugStatusDiv.innerHTML += `<br><p>Debug: Days confirmed: <strong>${event.detail.confirmedDays.join(', ')}</strong>. Waiting for Practice Nav...</p>`;
            }
        });

        window.addEventListener('exerciseSelected', function(event) {
            console.log('Message received in freestyle.html (debug listener): Exercise selected:', event.detail.exercise);
            const debugStatusDiv = document.getElementById('freestyle-debug-status');
            if (debugStatusDiv) {
                debugStatusDiv.innerHTML += `<br><p>Debug: Exercise selected: <strong>${event.detail.exercise}</strong>. Waiting for Exercise Host...</p>`;
            }
        });</script></body></html>