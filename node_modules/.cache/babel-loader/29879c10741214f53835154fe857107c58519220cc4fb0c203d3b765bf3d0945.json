{"ast":null,"code":"import React from'react';import{Outlet,Link,NavLink,useNavigate}from'react-router-dom';import{useAuth}from'../../AuthContext';// Adjusted path\nimport{useI18n}from'../../i18n/I18nContext';// Import useI18n\nimport LanguageSelector from'../LanguageSelector/LanguageSelector';// Import LanguageSelector\nimport'./Layout.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Layout=()=>{const{isAuthenticated,currentUser,logout,loadingAuth}=useAuth();const{t}=useI18n();// Get translation function\nconst navigate=useNavigate();const handleLogout=async()=>{await logout();navigate('/login');// Redirect to login after logout\n};return/*#__PURE__*/_jsxs(\"div\",{className:\"app-layout\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"app-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"header-title-area\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",style:{textDecoration:'none',color:'white'},children:/*#__PURE__*/_jsx(\"h1\",{children:t('mainHeading')||'COSYlanguages'})})}),/*#__PURE__*/_jsx(\"nav\",{className:\"app-nav\",children:/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(NavLink,{to:\"/\",className:_ref=>{let{isActive}=_ref;return isActive?\"active-link\":\"\";},children:t('navHome')||'Home'})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(NavLink,{to:\"/freestyle\",className:_ref2=>{let{isActive}=_ref2;return isActive?\"active-link\":\"\";},children:t('navFreestyle')||'Freestyle'})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(NavLink,{to:\"/study\",className:_ref3=>{let{isActive}=_ref3;return isActive?\"active-link\":\"\";},children:t('navStudyMode')||'Study'})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"header-controls\",children:[/*#__PURE__*/_jsx(LanguageSelector,{}),isAuthenticated&&currentUser&&/*#__PURE__*/_jsxs(\"div\",{className:\"user-info\",children:[/*#__PURE__*/_jsx(\"span\",{children:t('welcomeUser',{name:currentUser.username||currentUser.role||'User'})||\"Welcome, \".concat(currentUser.username||currentUser.role||'User',\"!\")}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,disabled:loadingAuth,className:\"logout-button\",children:loadingAuth?t('loggingOut')||'Logging out...':t('btnLogout')||'Logout'})]}),!isAuthenticated&&!loadingAuth&&/*#__PURE__*/_jsx(NavLink,{to:\"/login\",className:_ref4=>{let{isActive}=_ref4;return isActive?\"active-link login-link\":\"login-link\";},children:t('btnLogin')||'Login'})]})]}),/*#__PURE__*/_jsxs(\"main\",{className:\"app-main-content\",children:[/*#__PURE__*/_jsx(Outlet,{}),\" \"]}),/*#__PURE__*/_jsx(\"footer\",{className:\"app-footer\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"\\xA9 \",new Date().getFullYear(),\" \",t('mainHeading')||'COSYlanguages']})})]});};export default Layout;","map":{"version":3,"names":["React","Outlet","Link","NavLink","useNavigate","useAuth","useI18n","LanguageSelector","jsx","_jsx","jsxs","_jsxs","Layout","isAuthenticated","currentUser","logout","loadingAuth","t","navigate","handleLogout","className","children","to","style","textDecoration","color","_ref","isActive","_ref2","_ref3","name","username","role","concat","onClick","disabled","_ref4","Date","getFullYear"],"sources":["/workspaces/COSYlanguagesproject/src/components/Layout/Layout.js"],"sourcesContent":["import React from 'react';\r\nimport { Outlet, Link, NavLink, useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '../../AuthContext'; // Adjusted path\r\nimport { useI18n } from '../../i18n/I18nContext'; // Import useI18n\r\nimport LanguageSelector from '../LanguageSelector/LanguageSelector'; // Import LanguageSelector\r\nimport './Layout.css'; \r\n\r\nconst Layout = () => {\r\n  const { isAuthenticated, currentUser, logout, loadingAuth } = useAuth();\r\n  const { t } = useI18n(); // Get translation function\r\n  const navigate = useNavigate();\r\n\r\n  const handleLogout = async () => {\r\n    await logout();\r\n    navigate('/login'); // Redirect to login after logout\r\n  };\r\n\r\n  return (\r\n    <div className=\"app-layout\">\r\n      <header className=\"app-header\">\r\n        <div className=\"header-title-area\">\r\n          <Link to=\"/\" style={{ textDecoration: 'none', color: 'white' }}>\r\n            <h1>{t('mainHeading') || 'COSYlanguages'}</h1>\r\n          </Link>\r\n        </div>\r\n        <nav className=\"app-nav\">\r\n          <ul>\r\n            <li>\r\n              <NavLink to=\"/\" className={({ isActive }) => isActive ? \"active-link\" : \"\"}>{t('navHome') || 'Home'}</NavLink>\r\n            </li>\r\n            <li>\r\n              <NavLink to=\"/freestyle\" className={({ isActive }) => isActive ? \"active-link\" : \"\"}>{t('navFreestyle') || 'Freestyle'}</NavLink>\r\n            </li>\r\n            <li>\r\n              <NavLink to=\"/study\" className={({ isActive }) => isActive ? \"active-link\" : \"\"}>{t('navStudyMode') || 'Study'}</NavLink>\r\n            </li>\r\n          </ul>\r\n        </nav>\r\n        <div className=\"header-controls\">\r\n          <LanguageSelector />\r\n          {isAuthenticated && currentUser && (\r\n            <div className=\"user-info\">\r\n              <span>{t('welcomeUser', { name: currentUser.username || currentUser.role || 'User' }) || `Welcome, ${currentUser.username || currentUser.role || 'User'}!`}</span>\r\n              <button onClick={handleLogout} disabled={loadingAuth} className=\"logout-button\">\r\n                {loadingAuth ? (t('loggingOut') || 'Logging out...') : (t('btnLogout') || 'Logout')}\r\n              </button>\r\n            </div>\r\n          )}\r\n          {!isAuthenticated && !loadingAuth && (\r\n            <NavLink to=\"/login\" className={({ isActive }) => isActive ? \"active-link login-link\" : \"login-link\"}>{t('btnLogin') || 'Login'}</NavLink>\r\n          )}\r\n        </div>\r\n      </header>\r\n      <main className=\"app-main-content\">\r\n        <Outlet /> {/* Child routes will render here */}\r\n      </main>\r\n      <footer className=\"app-footer\">\r\n        <p>&copy; {new Date().getFullYear()} {t('mainHeading') || 'COSYlanguages'}</p>\r\n      </footer>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Layout;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}