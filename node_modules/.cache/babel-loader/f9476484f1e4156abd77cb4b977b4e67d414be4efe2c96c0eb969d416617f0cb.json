{"ast":null,"code":"import _objectSpread from\"/workspaces/COSYlanguagesproject/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useCallback}from'react';import{loadGenderGrammarData}from'../../../../utils/exerciseDataService';import{useLatinizationContext}from'../../../../contexts/LatinizationContext';import useLatinization from'../../../../hooks/useLatinization';import{shuffleArray}from'../../../../utils/arrayUtils';import{pronounceText}from'../../../../utils/speechUtils';import FeedbackDisplay from'../../FeedbackDisplay';import ExerciseControls from'../../ExerciseControls';import{useProgress}from'../../../../contexts/ProgressContext';// Import useProgress\nimport{useI18n}from'../../../../i18n/I18nContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SelectArticleExercise=_ref=>{let{language,days,exerciseKey}=_ref;const[currentItem,setCurrentItem]=useState(null);const[articleOptions,setArticleOptions]=useState([]);const[feedback,setFeedback]=useState({message:'',type:''});const[isLoading,setIsLoading]=useState(true);const[error,setError]=useState(null);const[isRevealed,setIsRevealed]=useState(false);const[selectedOption,setSelectedOption]=useState(null);const{isLatinized}=useLatinizationContext();const getLatinizedText=useLatinization;const progress=useProgress();const{t}=useI18n();const NUM_ARTICLE_OPTIONS=4;const setupNewExercise=useCallback(async()=>{setIsLoading(true);setError(null);setFeedback({message:'',type:''});setCurrentItem(null);setArticleOptions([]);setIsRevealed(false);setSelectedOption(null);try{const{data:grammarItems,error:fetchError}=await loadGenderGrammarData(language,days);if(fetchError){throw new Error(fetchError.message||fetchError.error||'Failed to load gender grammar data.');}if(!grammarItems||grammarItems.length===0){setError(t('errors.noGenderData','No gender grammar data found for the selected criteria.'));setIsLoading(false);return;}const randomItem=grammarItems[Math.floor(Math.random()*grammarItems.length)];setCurrentItem(randomItem);const correctArticle=randomItem.article;let options=[correctArticle];const allPossibleArticles=[...new Set(grammarItems.map(item=>item.article))];let distractors=allPossibleArticles.filter(art=>art!==correctArticle);distractors=shuffleArray(distractors);for(let i=0;i<Math.min(NUM_ARTICLE_OPTIONS-1,distractors.length);i++){options.push(distractors[i]);}while(options.length<NUM_ARTICLE_OPTIONS&&allPossibleArticles.length>options.length){const potentialOption=allPossibleArticles.find(art=>!options.includes(art));if(potentialOption)options.push(potentialOption);else break;}setArticleOptions(shuffleArray(options));}catch(err){console.error(\"SelectArticleExercise - Error setting up:\",err);setError(err.message||t('errors.unexpectedError','An unexpected error occurred.'));}finally{setIsLoading(false);}},[language,days,t]);useEffect(()=>{if(language&&days&&days.length>0){setupNewExercise();}else{setIsLoading(false);setError(t('errors.selectLangDay',\"Please select a language and day(s).\"));}},[setupNewExercise,exerciseKey,language,days,t]);const handleOptionClick=selectedArticleValue=>{if(isRevealed||selectedOption||!currentItem)return;setSelectedOption(selectedArticleValue);const correctArticle=currentItem.article;const latinizedCorrect=getLatinizedText(correctArticle,language);const displayCorrect=isLatinized?latinizedCorrect:correctArticle;const itemId=\"gender_\".concat(currentItem.word,\"_\").concat(correctArticle);if(selectedArticleValue===correctArticle){setFeedback({message:t('feedback.correct','Correct!'),type:'correct'});progress.awardCorrectAnswer(itemId,'grammar-select-article');}else{setFeedback({message:t('feedback.incorrectArticle',\"Incorrect. The correct article is: \".concat(displayCorrect),{correctAnswer:displayCorrect}),type:'incorrect'});progress.awardIncorrectAnswer(itemId,'grammar-select-article');}};const showHint=()=>{if(isRevealed||!currentItem||selectedOption)return;const incorrectOptions=articleOptions.filter(opt=>opt!==currentItem.article);if(incorrectOptions.length>1){const optionToRemove=incorrectOptions[0];setArticleOptions(prevOptions=>prevOptions.filter(opt=>opt!==optionToRemove));setFeedback({message:t('feedback.hintOptionRemoved','Hint: One incorrect option removed.'),type:'hint'});}else{setFeedback({message:t('feedback.noMoreHints','No more hints available for this question.'),type:'info'});}};const revealTheAnswer=()=>{if(!currentItem)return;const correctArticle=currentItem.article;const latinizedCorrect=getLatinizedText(correctArticle,language);const displayCorrect=isLatinized?latinizedCorrect:correctArticle;const itemId=\"gender_\".concat(currentItem.word,\"_\").concat(correctArticle);setFeedback({message:t('feedback.revealedArticle',\"The correct article for \\\"\".concat(getLatinizedText(currentItem.word,language),\"\\\" is: \").concat(displayCorrect),{word:getLatinizedText(currentItem.word,language),correctAnswer:displayCorrect}),type:'info'});setIsRevealed(true);setSelectedOption(correctArticle);progress.scheduleReview(itemId,'grammar-select-article',false);};const handlePronounceWord=()=>{if(currentItem&&currentItem.word&&language){pronounceText(currentItem.word,language).catch(err=>{console.error(\"Pronunciation error:\",err);setFeedback({message:t('errors.pronunciationError',\"Could not pronounce the word.\"),type:\"error\"});});}};if(isLoading)return/*#__PURE__*/_jsx(\"p\",{children:t('loading.selectArticleExercise','Loading select article exercise...')});if(error)return/*#__PURE__*/_jsx(FeedbackDisplay,{message:error,type:\"error\"});if(!currentItem&&!isLoading)return/*#__PURE__*/_jsx(FeedbackDisplay,{message:t('exercises.noData',\"No exercise data available. Try different selections.\"),type:\"info\"});const wordToDisplay=currentItem?getLatinizedText(currentItem.word,language):\"\";return/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'20px',border:'1px solid #eee',borderRadius:'8px'},children:[/*#__PURE__*/_jsx(\"h3\",{children:t('titles.selectCorrectArticle','Select the Correct Article for:')}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'center',alignItems:'center',margin:'20px 0',fontSize:'2rem'},children:[/*#__PURE__*/_jsx(\"span\",{style:_objectSpread({},isLatinized&&currentItem&&currentItem.word!==wordToDisplay&&{fontStyle:'italic'}),children:wordToDisplay}),currentItem&&currentItem.word&&/*#__PURE__*/_jsx(\"button\",{onClick:handlePronounceWord,title:t('tooltips.pronounceWord',\"Pronounce \\\"\".concat(currentItem.word,\"\\\"\")),style:{background:'none',border:'none',fontSize:'1.5rem',cursor:'pointer',marginLeft:'10px'},children:\"\\uD83D\\uDD0A\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'center',flexWrap:'wrap',gap:'10px',marginBottom:'20px'},children:articleOptions.map(option=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleOptionClick(option),disabled:isRevealed||!!selectedOption,style:{padding:'10px 20px',fontSize:'1rem',cursor:isRevealed||!!selectedOption?'default':'pointer',border:\"2px solid \".concat(selectedOption===option&&feedback.type==='correct'?'#28a745':selectedOption===option&&feedback.type==='incorrect'?'#dc3545':isRevealed&&option===(currentItem===null||currentItem===void 0?void 0:currentItem.article)?'#28a745':'#007bff'),backgroundColor:selectedOption===option&&feedback.type==='correct'?'#d4edda':selectedOption===option&&feedback.type==='incorrect'?'#f8d7da':isRevealed&&option===(currentItem===null||currentItem===void 0?void 0:currentItem.article)?'#d4edda':'#007bff',color:selectedOption===option&&(feedback.type==='correct'||feedback.type==='incorrect')?'#000':isRevealed&&option===(currentItem===null||currentItem===void 0?void 0:currentItem.article)?'#000':'#fff',borderRadius:'5px',opacity:isRevealed&&selectedOption!==option&&option!==(currentItem===null||currentItem===void 0?void 0:currentItem.article)?0.5:1},children:getLatinizedText(option,language)},option))}),/*#__PURE__*/_jsx(FeedbackDisplay,{message:feedback.message,type:feedback.type,language:language}),/*#__PURE__*/_jsx(ExerciseControls,{onShowHint:!isRevealed&&!selectedOption&&articleOptions.length>1&&articleOptions.filter(opt=>opt!==(currentItem===null||currentItem===void 0?void 0:currentItem.article)).length>1?showHint:undefined,onRevealAnswer:!isRevealed&&!selectedOption?revealTheAnswer:undefined,onNextExercise:setupNewExercise,config:{showCheck:false,showHint:!isRevealed&&!selectedOption&&articleOptions.length>1&&articleOptions.filter(opt=>opt!==(currentItem===null||currentItem===void 0?void 0:currentItem.article)).length>1,showReveal:!isRevealed&&!selectedOption,showNext:true}})]});};export default SelectArticleExercise;","map":{"version":3,"names":["React","useState","useEffect","useCallback","loadGenderGrammarData","useLatinizationContext","useLatinization","shuffleArray","pronounceText","FeedbackDisplay","ExerciseControls","useProgress","useI18n","jsx","_jsx","jsxs","_jsxs","SelectArticleExercise","_ref","language","days","exerciseKey","currentItem","setCurrentItem","articleOptions","setArticleOptions","feedback","setFeedback","message","type","isLoading","setIsLoading","error","setError","isRevealed","setIsRevealed","selectedOption","setSelectedOption","isLatinized","getLatinizedText","progress","t","NUM_ARTICLE_OPTIONS","setupNewExercise","data","grammarItems","fetchError","Error","length","randomItem","Math","floor","random","correctArticle","article","options","allPossibleArticles","Set","map","item","distractors","filter","art","i","min","push","potentialOption","find","includes","err","console","handleOptionClick","selectedArticleValue","latinizedCorrect","displayCorrect","itemId","concat","word","awardCorrectAnswer","correctAnswer","awardIncorrectAnswer","showHint","incorrectOptions","opt","optionToRemove","prevOptions","revealTheAnswer","scheduleReview","handlePronounceWord","catch","children","wordToDisplay","style","textAlign","padding","border","borderRadius","display","justifyContent","alignItems","margin","fontSize","_objectSpread","fontStyle","onClick","title","background","cursor","marginLeft","flexWrap","gap","marginBottom","option","disabled","backgroundColor","color","opacity","onShowHint","undefined","onRevealAnswer","onNextExercise","config","showCheck","showReveal","showNext"],"sources":["/workspaces/COSYlanguagesproject/src/components/Freestyle/exercises/grammar/SelectArticleExercise.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport { loadGenderGrammarData } from '../../../../utils/exerciseDataService';\r\nimport { useLatinizationContext } from '../../../../contexts/LatinizationContext';\r\nimport useLatinization from '../../../../hooks/useLatinization';\r\nimport { shuffleArray } from '../../../../utils/arrayUtils';\r\nimport { pronounceText } from '../../../../utils/speechUtils';\r\nimport FeedbackDisplay from '../../FeedbackDisplay';\r\nimport ExerciseControls from '../../ExerciseControls';\r\nimport { useProgress } from '../../../../contexts/ProgressContext'; // Import useProgress\r\nimport { useI18n } from '../../../../i18n/I18nContext';\r\n\r\nconst SelectArticleExercise = ({ language, days, exerciseKey }) => {\r\n  const [currentItem, setCurrentItem] = useState(null); \r\n  const [articleOptions, setArticleOptions] = useState([]);\r\n  const [feedback, setFeedback] = useState({ message: '', type: '' });\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [isRevealed, setIsRevealed] = useState(false);\r\n  const [selectedOption, setSelectedOption] = useState(null);\r\n\r\n  const { isLatinized } = useLatinizationContext();\r\n  const getLatinizedText = useLatinization;\r\n  const progress = useProgress();\r\n  const { t } = useI18n();\r\n\r\n  const NUM_ARTICLE_OPTIONS = 4;\r\n\r\n  const setupNewExercise = useCallback(async () => {\r\n    setIsLoading(true);\r\n    setError(null);\r\n    setFeedback({ message: '', type: '' });\r\n    setCurrentItem(null);\r\n    setArticleOptions([]);\r\n    setIsRevealed(false);\r\n    setSelectedOption(null);\r\n\r\n    try {\r\n      const { data: grammarItems, error: fetchError } = await loadGenderGrammarData(language, days);\r\n      if (fetchError) {\r\n        throw new Error(fetchError.message || fetchError.error || 'Failed to load gender grammar data.');\r\n      }\r\n\r\n      if (!grammarItems || grammarItems.length === 0) {\r\n        setError(t('errors.noGenderData', 'No gender grammar data found for the selected criteria.'));\r\n        setIsLoading(false);\r\n        return;\r\n      }\r\n\r\n      const randomItem = grammarItems[Math.floor(Math.random() * grammarItems.length)];\r\n      setCurrentItem(randomItem);\r\n\r\n      const correctArticle = randomItem.article;\r\n      let options = [correctArticle];\r\n      \r\n      const allPossibleArticles = [...new Set(grammarItems.map(item => item.article))];\r\n      let distractors = allPossibleArticles.filter(art => art !== correctArticle);\r\n      distractors = shuffleArray(distractors);\r\n\r\n      for (let i = 0; i < Math.min(NUM_ARTICLE_OPTIONS - 1, distractors.length); i++) {\r\n        options.push(distractors[i]);\r\n      }\r\n      \r\n      while (options.length < NUM_ARTICLE_OPTIONS && allPossibleArticles.length > options.length) {\r\n        const potentialOption = allPossibleArticles.find(art => !options.includes(art));\r\n        if(potentialOption) options.push(potentialOption); else break;\r\n      }\r\n      \r\n      setArticleOptions(shuffleArray(options));\r\n\r\n    } catch (err) {\r\n      console.error(\"SelectArticleExercise - Error setting up:\", err);\r\n      setError(err.message || t('errors.unexpectedError', 'An unexpected error occurred.'));\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  }, [language, days, t]);\r\n\r\n  useEffect(() => {\r\n    if (language && days && days.length > 0) {\r\n      setupNewExercise();\r\n    } else {\r\n      setIsLoading(false);\r\n      setError(t('errors.selectLangDay', \"Please select a language and day(s).\"));\r\n    }\r\n  }, [setupNewExercise, exerciseKey, language, days, t]);\r\n\r\n  const handleOptionClick = (selectedArticleValue) => {\r\n    if (isRevealed || selectedOption || !currentItem) return;\r\n\r\n    setSelectedOption(selectedArticleValue);\r\n    const correctArticle = currentItem.article;\r\n    const latinizedCorrect = getLatinizedText(correctArticle, language);\r\n    const displayCorrect = isLatinized ? latinizedCorrect : correctArticle;\r\n    const itemId = `gender_${currentItem.word}_${correctArticle}`;\r\n\r\n    if (selectedArticleValue === correctArticle) {\r\n      setFeedback({ message: t('feedback.correct', 'Correct!'), type: 'correct' });\r\n      progress.awardCorrectAnswer(itemId, 'grammar-select-article');\r\n    } else {\r\n      setFeedback({ message: t('feedback.incorrectArticle', `Incorrect. The correct article is: ${displayCorrect}`, { correctAnswer: displayCorrect }), type: 'incorrect' });\r\n      progress.awardIncorrectAnswer(itemId, 'grammar-select-article');\r\n    }\r\n  };\r\n\r\n  const showHint = () => {\r\n    if (isRevealed || !currentItem || selectedOption) return;\r\n    const incorrectOptions = articleOptions.filter(opt => opt !== currentItem.article);\r\n    if (incorrectOptions.length > 1) {\r\n      const optionToRemove = incorrectOptions[0];\r\n      setArticleOptions(prevOptions => prevOptions.filter(opt => opt !== optionToRemove));\r\n      setFeedback({ message: t('feedback.hintOptionRemoved', 'Hint: One incorrect option removed.'), type: 'hint' });\r\n    } else {\r\n      setFeedback({ message: t('feedback.noMoreHints', 'No more hints available for this question.'), type: 'info' });\r\n    }\r\n  };\r\n\r\n  const revealTheAnswer = () => {\r\n    if (!currentItem) return;\r\n    \r\n    const correctArticle = currentItem.article;\r\n    const latinizedCorrect = getLatinizedText(correctArticle, language);\r\n    const displayCorrect = isLatinized ? latinizedCorrect : correctArticle;\r\n    const itemId = `gender_${currentItem.word}_${correctArticle}`;\r\n    \r\n    setFeedback({ message: t('feedback.revealedArticle', `The correct article for \"${getLatinizedText(currentItem.word, language)}\" is: ${displayCorrect}`, { word: getLatinizedText(currentItem.word, language), correctAnswer: displayCorrect }), type: 'info' });\r\n    setIsRevealed(true);\r\n    setSelectedOption(correctArticle); \r\n    progress.scheduleReview(itemId, 'grammar-select-article', false);\r\n  };\r\n\r\n  const handlePronounceWord = () => {\r\n    if (currentItem && currentItem.word && language) {\r\n      pronounceText(currentItem.word, language).catch(err => {\r\n        console.error(\"Pronunciation error:\", err);\r\n        setFeedback({message: t('errors.pronunciationError', \"Could not pronounce the word.\"), type: \"error\"});\r\n      });\r\n    }\r\n  };\r\n\r\n  if (isLoading) return <p>{t('loading.selectArticleExercise', 'Loading select article exercise...')}</p>;\r\n  if (error) return <FeedbackDisplay message={error} type=\"error\" />;\r\n  if (!currentItem && !isLoading) return <FeedbackDisplay message={t('exercises.noData', \"No exercise data available. Try different selections.\")} type=\"info\" />;\r\n  \r\n  const wordToDisplay = currentItem ? getLatinizedText(currentItem.word, language) : \"\";\r\n\r\n  return (\r\n    <div style={{ textAlign: 'center', padding: '20px', border: '1px solid #eee', borderRadius: '8px' }}>\r\n      <h3>{t('titles.selectCorrectArticle', 'Select the Correct Article for:')}</h3>\r\n      <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', margin: '20px 0', fontSize: '2rem' }}>\r\n        <span style={{...(isLatinized && currentItem && currentItem.word !== wordToDisplay && {fontStyle: 'italic'})}}>{wordToDisplay}</span>\r\n        {currentItem && currentItem.word && (\r\n          <button \r\n            onClick={handlePronounceWord} \r\n            title={t('tooltips.pronounceWord', `Pronounce \"${currentItem.word}\"`)}\r\n            style={{background:'none', border:'none', fontSize:'1.5rem', cursor:'pointer', marginLeft:'10px'}}\r\n          >\r\n            ðŸ”Š\r\n          </button>\r\n        )}\r\n      </div>\r\n      \r\n      <div style={{ display: 'flex', justifyContent: 'center', flexWrap: 'wrap', gap: '10px', marginBottom: '20px' }}>\r\n        {articleOptions.map(option => (\r\n          <button\r\n            key={option}\r\n            onClick={() => handleOptionClick(option)}\r\n            disabled={isRevealed || !!selectedOption}\r\n            style={{\r\n              padding: '10px 20px',\r\n              fontSize: '1rem',\r\n              cursor: (isRevealed || !!selectedOption) ? 'default' : 'pointer',\r\n              border: `2px solid ${(selectedOption === option && feedback.type === 'correct') ? '#28a745' : (selectedOption === option && feedback.type === 'incorrect') ? '#dc3545' : (isRevealed && option === currentItem?.article) ? '#28a745' : '#007bff'}`,\r\n              backgroundColor: (selectedOption === option && feedback.type === 'correct') ? '#d4edda' : (selectedOption === option && feedback.type === 'incorrect') ? '#f8d7da' : (isRevealed && option === currentItem?.article) ? '#d4edda' :'#007bff',\r\n              color: (selectedOption === option && (feedback.type === 'correct' || feedback.type === 'incorrect')) ? '#000' : (isRevealed && option === currentItem?.article) ? '#000' : '#fff',\r\n              borderRadius: '5px',\r\n              opacity: (isRevealed && selectedOption !== option && option !== currentItem?.article) ? 0.5 : 1,\r\n            }}\r\n          >\r\n            {getLatinizedText(option, language)}\r\n          </button>\r\n        ))}\r\n      </div>\r\n      \r\n      <FeedbackDisplay message={feedback.message} type={feedback.type} language={language} />\r\n      \r\n      <ExerciseControls\r\n        onShowHint={!isRevealed && !selectedOption && articleOptions.length > 1 && articleOptions.filter(opt => opt !== currentItem?.article).length > 1 ? showHint : undefined}\r\n        onRevealAnswer={!isRevealed && !selectedOption ? revealTheAnswer : undefined}\r\n        onNextExercise={setupNewExercise}\r\n        config={{ \r\n            showCheck: false,\r\n            showHint: !isRevealed && !selectedOption && articleOptions.length > 1 && articleOptions.filter(opt => opt !== currentItem?.article).length > 1,\r\n            showReveal: !isRevealed && !selectedOption,\r\n            showNext: true,\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SelectArticleExercise;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}