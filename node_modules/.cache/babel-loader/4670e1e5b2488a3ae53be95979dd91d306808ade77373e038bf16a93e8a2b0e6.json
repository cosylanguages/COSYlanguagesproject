{"ast":null,"code":"var _jsxFileName = \"/workspaces/COSYlanguagesproject/src/AppRoutes.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { Routes, Route, Navigate, useNavigate } from 'react-router-dom';\nimport { usePlan } from './PlanContext';\nimport { useAuth } from './AuthContext';\nimport Layout from './components/Layout/Layout';\nimport Login from './components/Auth/Login';\nimport StudyModePage from './pages/StudyModePage/StudyModePage';\nimport FreestyleModePage from './pages/FreestyleModePage/FreestyleModePage';\nimport ShowWordExercise from './components/Freestyle/exercises/vocabulary/ShowWordExercise'; // Corrected import\nimport PinModal from './components/Common/PinModal'; // Import PinModal\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst STUDY_MODE_PIN = \"1234\"; // Define the PIN\n\n// Component for the Plan Overview\nconst PlanOverview = () => {\n  _s();\n  const {\n    plan,\n    fetchPlan,\n    loading,\n    error\n  } = usePlan();\n  const {\n    authToken,\n    isAuthenticated\n  } = useAuth();\n  useEffect(() => {\n    if (isAuthenticated && authToken) {\n      fetchPlan(authToken);\n    }\n  }, [authToken, isAuthenticated, fetchPlan]);\n  const daysExist = plan && plan.days && Array.isArray(plan.days);\n  const studySetsExist = plan && plan.studySets && Array.isArray(plan.studySets);\n  if (!isAuthenticated) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Plan Data\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: /*#__PURE__*/_jsxDEV(\"em\", {\n          children: \"Please log in to view plan data.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 20\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 13\n    }, this);\n  }\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Plan Data\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: /*#__PURE__*/_jsxDEV(\"em\", {\n          children: \"Loading plan data...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 42\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 39\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 16\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Plan Data\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: 'red'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"em\", {\n          children: [\"Error fetching plan: \", error]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 65\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 39\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 16\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Current Plan Data (from Backend)\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this), daysExist && plan.days.length > 0 || studySetsExist && plan.studySets.length > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [daysExist && plan.days.length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Days\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: plan.days.map(day => {\n            var _day$title, _day$title2;\n            return /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: ((_day$title = day.title) === null || _day$title === void 0 ? void 0 : _day$title.COSYenglish) || ((_day$title2 = day.title) === null || _day$title2 === void 0 ? void 0 : _day$title2.default) || day.title || `Day ${day.id}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 57,\n                columnNumber: 41\n              }, this), day.sections && day.sections.length > 0 && /*#__PURE__*/_jsxDEV(\"ul\", {\n                children: day.sections.map(section => {\n                  var _section$title, _section$title2;\n                  return /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: ((_section$title = section.title) === null || _section$title === void 0 ? void 0 : _section$title.COSYenglish) || ((_section$title2 = section.title) === null || _section$title2 === void 0 ? void 0 : _section$title2.default) || section.title || `Section ${section.id}`\n                  }, section.id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 61,\n                    columnNumber: 53\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 59,\n                columnNumber: 45\n              }, this)]\n            }, day.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 37\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true), studySetsExist && plan.studySets.length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Study Sets\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: plan.studySets.map(set => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [set.name || set.title || `Set ${set.id}`, \" (\", set.itemCount, \" items)\"]\n          }, set.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 37\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: /*#__PURE__*/_jsxDEV(\"em\", {\n        children: \"No plan data available for this user, or data is empty.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 20\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 9\n  }, this);\n};\n\n// ProtectedRoute component (for general auth)\n_s(PlanOverview, \"08H11Z4+yu/p5JskAA4KtgQIUSw=\", false, function () {\n  return [usePlan, useAuth];\n});\n_c = PlanOverview;\nconst ProtectedRoute = ({\n  children\n}) => {\n  _s2();\n  const {\n    isAuthenticated,\n    loadingAuth\n  } = useAuth();\n  if (loadingAuth) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading authentication status...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 16\n    }, this);\n  }\n  return isAuthenticated ? children : /*#__PURE__*/_jsxDEV(Navigate, {\n    to: \"/login\",\n    replace: true\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 99,\n    columnNumber: 41\n  }, this);\n};\n\n// StudyModeProtectedRoute component (for PIN access)\n_s2(ProtectedRoute, \"baWI9aryWT72hcFuap3EZmfnM2A=\", false, function () {\n  return [useAuth];\n});\n_c2 = ProtectedRoute;\nconst StudyModeProtectedRoute = ({\n  children\n}) => {\n  _s3();\n  const [isPinVerified, setIsPinVerified] = useState(sessionStorage.getItem('studyModeUnlocked') === 'true');\n  const [showPinModal, setShowPinModal] = useState(!isPinVerified);\n  const [pinError, setPinError] = useState('');\n  const navigate = useNavigate();\n  const handlePinSubmit = pin => {\n    if (pin === STUDY_MODE_PIN) {\n      sessionStorage.setItem('studyModeUnlocked', 'true');\n      setIsPinVerified(true);\n      setShowPinModal(false);\n      setPinError('');\n    } else {\n      setPinError('Incorrect PIN. Please try again.');\n    }\n  };\n  const handleModalClose = () => {\n    setShowPinModal(false);\n    navigate('/'); // Navigate away if user closes modal without verifying\n  };\n  if (isPinVerified) {\n    return children;\n  }\n  if (showPinModal) {\n    return /*#__PURE__*/_jsxDEV(PinModal, {\n      onSubmit: handlePinSubmit,\n      onClose: handleModalClose,\n      error: pinError\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 16\n    }, this);\n  }\n\n  // Fallback, should ideally not be reached if logic is correct\n  // but ensures we don't render children if not verified and modal not shown.\n  return /*#__PURE__*/_jsxDEV(Navigate, {\n    to: \"/\",\n    replace: true\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 135,\n    columnNumber: 12\n  }, this);\n};\n_s3(StudyModeProtectedRoute, \"op83T0razK7Jg1lsqveITTAhoA4=\", false, function () {\n  return [useNavigate];\n});\n_c3 = StudyModeProtectedRoute;\nfunction AppRoutes() {\n  _s4();\n  const {\n    isAuthenticated\n  } = useAuth();\n  return /*#__PURE__*/_jsxDEV(Routes, {\n    children: [/*#__PURE__*/_jsxDEV(Route, {\n      path: \"/login\",\n      element: /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 43\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \"/\",\n      element: /*#__PURE__*/_jsxDEV(Layout, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 38\n      }, this),\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        index: true,\n        element: /*#__PURE__*/_jsxDEV(FreestyleModePage, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 39\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"freestyle\",\n        element: /*#__PURE__*/_jsxDEV(FreestyleModePage, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 50\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"study\",\n        element: /*#__PURE__*/_jsxDEV(StudyModeProtectedRoute, {\n          children: /*#__PURE__*/_jsxDEV(StudyModePage, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 23\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"study/random-word\",\n        element: /*#__PURE__*/_jsxDEV(ShowWordExercise, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 58\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \"*\",\n      element: isAuthenticated ? /*#__PURE__*/_jsxDEV(Navigate, {\n        to: \"/\",\n        replace: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 56\n      }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n        to: \"/login\",\n        replace: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 86\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 143,\n    columnNumber: 9\n  }, this);\n}\n_s4(AppRoutes, \"1LGxUrjNz4q7iKM/2JDC9lJQ3xY=\", false, function () {\n  return [useAuth];\n});\n_c4 = AppRoutes;\nexport default AppRoutes;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"PlanOverview\");\n$RefreshReg$(_c2, \"ProtectedRoute\");\n$RefreshReg$(_c3, \"StudyModeProtectedRoute\");\n$RefreshReg$(_c4, \"AppRoutes\");","map":{"version":3,"names":["React","useEffect","useState","Routes","Route","Navigate","useNavigate","usePlan","useAuth","Layout","Login","StudyModePage","FreestyleModePage","ShowWordExercise","PinModal","jsxDEV","_jsxDEV","Fragment","_Fragment","STUDY_MODE_PIN","PlanOverview","_s","plan","fetchPlan","loading","error","authToken","isAuthenticated","daysExist","days","Array","isArray","studySetsExist","studySets","children","fileName","_jsxFileName","lineNumber","columnNumber","style","color","length","map","day","_day$title","_day$title2","title","COSYenglish","default","id","sections","section","_section$title","_section$title2","set","name","itemCount","_c","ProtectedRoute","_s2","loadingAuth","to","replace","_c2","StudyModeProtectedRoute","_s3","isPinVerified","setIsPinVerified","sessionStorage","getItem","showPinModal","setShowPinModal","pinError","setPinError","navigate","handlePinSubmit","pin","setItem","handleModalClose","onSubmit","onClose","_c3","AppRoutes","_s4","path","element","index","_c4","$RefreshReg$"],"sources":["/workspaces/COSYlanguagesproject/src/AppRoutes.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Routes, Route, Navigate, useNavigate } from 'react-router-dom';\r\nimport { usePlan } from './PlanContext';\r\nimport { useAuth } from './AuthContext';\r\nimport Layout from './components/Layout/Layout';\r\nimport Login from './components/Auth/Login';\r\nimport StudyModePage from './pages/StudyModePage/StudyModePage';\r\nimport FreestyleModePage from './pages/FreestyleModePage/FreestyleModePage';\r\nimport ShowWordExercise from './components/Freestyle/exercises/vocabulary/ShowWordExercise'; // Corrected import\r\nimport PinModal from './components/Common/PinModal'; // Import PinModal\r\n\r\nconst STUDY_MODE_PIN = \"1234\"; // Define the PIN\r\n\r\n// Component for the Plan Overview\r\nconst PlanOverview = () => {\r\n    const { plan, fetchPlan, loading, error } = usePlan();\r\n    const { authToken, isAuthenticated } = useAuth();\r\n\r\n    useEffect(() => {\r\n        if (isAuthenticated && authToken) {\r\n            fetchPlan(authToken);\r\n        }\r\n    }, [authToken, isAuthenticated, fetchPlan]);\r\n\r\n    const daysExist = plan && plan.days && Array.isArray(plan.days);\r\n    const studySetsExist = plan && plan.studySets && Array.isArray(plan.studySets);\r\n\r\n    if (!isAuthenticated) {\r\n        return (\r\n            <div>\r\n                <h2>Plan Data</h2>\r\n                <p><em>Please log in to view plan data.</em></p>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (loading) {\r\n        return <div><h2>Plan Data</h2><p><em>Loading plan data...</em></p></div>;\r\n    }\r\n\r\n    if (error) {\r\n        return <div><h2>Plan Data</h2><p style={{color: 'red'}}><em>Error fetching plan: {error}</em></p></div>;\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h2>Current Plan Data (from Backend)</h2>\r\n            \r\n            {(daysExist && plan.days.length > 0) || (studySetsExist && plan.studySets.length > 0) ? (\r\n                <>\r\n                    {daysExist && plan.days.length > 0 && (\r\n                        <>\r\n                            <h3>Days</h3>\r\n                            <ul>\r\n                                {plan.days.map(day => (\r\n                                    <li key={day.id}>\r\n                                        <strong>{day.title?.COSYenglish || day.title?.default || day.title || `Day ${day.id}`}</strong>\r\n                                        {day.sections && day.sections.length > 0 && (\r\n                                            <ul>\r\n                                                {day.sections.map(section => (\r\n                                                    <li key={section.id}>\r\n                                                        {section.title?.COSYenglish || section.title?.default || section.title || `Section ${section.id}`}\r\n                                                    </li>\r\n                                                ))}\r\n                                            </ul>\r\n                                        )}\r\n                                    </li>\r\n                                ))}\r\n                            </ul>\r\n                        </>\r\n                    )}\r\n                    \r\n                    {studySetsExist && plan.studySets.length > 0 && (\r\n                        <>\r\n                            <h3>Study Sets</h3>\r\n                            <ul>\r\n                                {plan.studySets.map(set => (\r\n                                    <li key={set.id}>\r\n                                        {set.name || set.title || `Set ${set.id}`} ({set.itemCount} items)\r\n                                    </li>\r\n                                ))}\r\n                            </ul>\r\n                        </>\r\n                    )}\r\n                </>\r\n            ) : (\r\n                <p><em>No plan data available for this user, or data is empty.</em></p>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\n// ProtectedRoute component (for general auth)\r\nconst ProtectedRoute = ({ children }) => {\r\n    const { isAuthenticated, loadingAuth } = useAuth();\r\n    if (loadingAuth) {\r\n        return <div>Loading authentication status...</div>;\r\n    }\r\n    return isAuthenticated ? children : <Navigate to=\"/login\" replace />;\r\n};\r\n\r\n// StudyModeProtectedRoute component (for PIN access)\r\nconst StudyModeProtectedRoute = ({ children }) => {\r\n    const [isPinVerified, setIsPinVerified] = useState(sessionStorage.getItem('studyModeUnlocked') === 'true');\r\n    const [showPinModal, setShowPinModal] = useState(!isPinVerified);\r\n    const [pinError, setPinError] = useState('');\r\n    const navigate = useNavigate();\r\n\r\n    const handlePinSubmit = (pin) => {\r\n        if (pin === STUDY_MODE_PIN) {\r\n            sessionStorage.setItem('studyModeUnlocked', 'true');\r\n            setIsPinVerified(true);\r\n            setShowPinModal(false);\r\n            setPinError('');\r\n        } else {\r\n            setPinError('Incorrect PIN. Please try again.');\r\n        }\r\n    };\r\n\r\n    const handleModalClose = () => {\r\n        setShowPinModal(false);\r\n        navigate('/'); // Navigate away if user closes modal without verifying\r\n    }\r\n\r\n    if (isPinVerified) {\r\n        return children;\r\n    }\r\n\r\n    if (showPinModal) {\r\n        return <PinModal onSubmit={handlePinSubmit} onClose={handleModalClose} error={pinError} />;\r\n    }\r\n    \r\n    // Fallback, should ideally not be reached if logic is correct\r\n    // but ensures we don't render children if not verified and modal not shown.\r\n    return <Navigate to=\"/\" replace />; \r\n};\r\n\r\n\r\nfunction AppRoutes() {\r\n    const { isAuthenticated } = useAuth();\r\n\r\n    return (\r\n        <Routes>\r\n            <Route path=\"/login\" element={<Login />} />\r\n            <Route path=\"/\" element={<Layout />}>\r\n                <Route index element={<FreestyleModePage />} />\r\n                <Route path=\"freestyle\" element={<FreestyleModePage />} />\r\n                <Route \r\n                  path=\"study\" \r\n                  element={\r\n                    <StudyModeProtectedRoute>\r\n                      <StudyModePage />\r\n                    </StudyModeProtectedRoute>\r\n                  } \r\n                />\r\n                {/* Temp route for testing ShowWordExercise (formerly RandomWordExercise) */}\r\n                <Route path=\"study/random-word\" element={<ShowWordExercise />} /> \r\n            </Route>\r\n            <Route path=\"*\" element={isAuthenticated ? <Navigate to=\"/\" replace /> : <Navigate to=\"/login\" replace />} />\r\n        </Routes>\r\n    );\r\n}\r\n\r\nexport default AppRoutes;\r\n"],"mappings":";;;;;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,MAAM,EAAEC,KAAK,EAAEC,QAAQ,EAAEC,WAAW,QAAQ,kBAAkB;AACvE,SAASC,OAAO,QAAQ,eAAe;AACvC,SAASC,OAAO,QAAQ,eAAe;AACvC,OAAOC,MAAM,MAAM,4BAA4B;AAC/C,OAAOC,KAAK,MAAM,yBAAyB;AAC3C,OAAOC,aAAa,MAAM,qCAAqC;AAC/D,OAAOC,iBAAiB,MAAM,6CAA6C;AAC3E,OAAOC,gBAAgB,MAAM,8DAA8D,CAAC,CAAC;AAC7F,OAAOC,QAAQ,MAAM,8BAA8B,CAAC,CAAC;AAAA,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAErD,MAAMC,cAAc,GAAG,MAAM,CAAC,CAAC;;AAE/B;AACA,MAAMC,YAAY,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACvB,MAAM;IAAEC,IAAI;IAAEC,SAAS;IAAEC,OAAO;IAAEC;EAAM,CAAC,GAAGlB,OAAO,CAAC,CAAC;EACrD,MAAM;IAAEmB,SAAS;IAAEC;EAAgB,CAAC,GAAGnB,OAAO,CAAC,CAAC;EAEhDP,SAAS,CAAC,MAAM;IACZ,IAAI0B,eAAe,IAAID,SAAS,EAAE;MAC9BH,SAAS,CAACG,SAAS,CAAC;IACxB;EACJ,CAAC,EAAE,CAACA,SAAS,EAAEC,eAAe,EAAEJ,SAAS,CAAC,CAAC;EAE3C,MAAMK,SAAS,GAAGN,IAAI,IAAIA,IAAI,CAACO,IAAI,IAAIC,KAAK,CAACC,OAAO,CAACT,IAAI,CAACO,IAAI,CAAC;EAC/D,MAAMG,cAAc,GAAGV,IAAI,IAAIA,IAAI,CAACW,SAAS,IAAIH,KAAK,CAACC,OAAO,CAACT,IAAI,CAACW,SAAS,CAAC;EAE9E,IAAI,CAACN,eAAe,EAAE;IAClB,oBACIX,OAAA;MAAAkB,QAAA,gBACIlB,OAAA;QAAAkB,QAAA,EAAI;MAAS;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAClBtB,OAAA;QAAAkB,QAAA,eAAGlB,OAAA;UAAAkB,QAAA,EAAI;QAAgC;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC/C,CAAC;EAEd;EAEA,IAAId,OAAO,EAAE;IACT,oBAAOR,OAAA;MAAAkB,QAAA,gBAAKlB,OAAA;QAAAkB,QAAA,EAAI;MAAS;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAAAtB,OAAA;QAAAkB,QAAA,eAAGlB,OAAA;UAAAkB,QAAA,EAAI;QAAoB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC;EAC5E;EAEA,IAAIb,KAAK,EAAE;IACP,oBAAOT,OAAA;MAAAkB,QAAA,gBAAKlB,OAAA;QAAAkB,QAAA,EAAI;MAAS;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAAAtB,OAAA;QAAGuB,KAAK,EAAE;UAACC,KAAK,EAAE;QAAK,CAAE;QAAAN,QAAA,eAAClB,OAAA;UAAAkB,QAAA,GAAI,uBAAqB,EAACT,KAAK;QAAA;UAAAU,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC;EAC3G;EAEA,oBACItB,OAAA;IAAAkB,QAAA,gBACIlB,OAAA;MAAAkB,QAAA,EAAI;IAAgC;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,EAEvCV,SAAS,IAAIN,IAAI,CAACO,IAAI,CAACY,MAAM,GAAG,CAAC,IAAMT,cAAc,IAAIV,IAAI,CAACW,SAAS,CAACQ,MAAM,GAAG,CAAE,gBACjFzB,OAAA,CAAAE,SAAA;MAAAgB,QAAA,GACKN,SAAS,IAAIN,IAAI,CAACO,IAAI,CAACY,MAAM,GAAG,CAAC,iBAC9BzB,OAAA,CAAAE,SAAA;QAAAgB,QAAA,gBACIlB,OAAA;UAAAkB,QAAA,EAAI;QAAI;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACbtB,OAAA;UAAAkB,QAAA,EACKZ,IAAI,CAACO,IAAI,CAACa,GAAG,CAACC,GAAG;YAAA,IAAAC,UAAA,EAAAC,WAAA;YAAA,oBACd7B,OAAA;cAAAkB,QAAA,gBACIlB,OAAA;gBAAAkB,QAAA,EAAS,EAAAU,UAAA,GAAAD,GAAG,CAACG,KAAK,cAAAF,UAAA,uBAATA,UAAA,CAAWG,WAAW,OAAAF,WAAA,GAAIF,GAAG,CAACG,KAAK,cAAAD,WAAA,uBAATA,WAAA,CAAWG,OAAO,KAAIL,GAAG,CAACG,KAAK,IAAI,OAAOH,GAAG,CAACM,EAAE;cAAE;gBAAAd,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAS,CAAC,EAC9FK,GAAG,CAACO,QAAQ,IAAIP,GAAG,CAACO,QAAQ,CAACT,MAAM,GAAG,CAAC,iBACpCzB,OAAA;gBAAAkB,QAAA,EACKS,GAAG,CAACO,QAAQ,CAACR,GAAG,CAACS,OAAO;kBAAA,IAAAC,cAAA,EAAAC,eAAA;kBAAA,oBACrBrC,OAAA;oBAAAkB,QAAA,EACK,EAAAkB,cAAA,GAAAD,OAAO,CAACL,KAAK,cAAAM,cAAA,uBAAbA,cAAA,CAAeL,WAAW,OAAAM,eAAA,GAAIF,OAAO,CAACL,KAAK,cAAAO,eAAA,uBAAbA,eAAA,CAAeL,OAAO,KAAIG,OAAO,CAACL,KAAK,IAAI,WAAWK,OAAO,CAACF,EAAE;kBAAE,GAD5FE,OAAO,CAACF,EAAE;oBAAAd,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAEf,CAAC;gBAAA,CACR;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACF,CACP;YAAA,GAVIK,GAAG,CAACM,EAAE;cAAAd,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAWX,CAAC;UAAA,CACR;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACF,CAAC;MAAA,eACP,CACL,EAEAN,cAAc,IAAIV,IAAI,CAACW,SAAS,CAACQ,MAAM,GAAG,CAAC,iBACxCzB,OAAA,CAAAE,SAAA;QAAAgB,QAAA,gBACIlB,OAAA;UAAAkB,QAAA,EAAI;QAAU;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACnBtB,OAAA;UAAAkB,QAAA,EACKZ,IAAI,CAACW,SAAS,CAACS,GAAG,CAACY,GAAG,iBACnBtC,OAAA;YAAAkB,QAAA,GACKoB,GAAG,CAACC,IAAI,IAAID,GAAG,CAACR,KAAK,IAAI,OAAOQ,GAAG,CAACL,EAAE,EAAE,EAAC,IAAE,EAACK,GAAG,CAACE,SAAS,EAAC,SAC/D;UAAA,GAFSF,GAAG,CAACL,EAAE;YAAAd,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAEX,CACP;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACF,CAAC;MAAA,eACP,CACL;IAAA,eACH,CAAC,gBAEHtB,OAAA;MAAAkB,QAAA,eAAGlB,OAAA;QAAAkB,QAAA,EAAI;MAAuD;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CACzE;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACA,CAAC;AAEd,CAAC;;AAED;AAAAjB,EAAA,CA9EMD,YAAY;EAAA,QAC8Bb,OAAO,EACZC,OAAO;AAAA;AAAAiD,EAAA,GAF5CrC,YAAY;AA+ElB,MAAMsC,cAAc,GAAGA,CAAC;EAAExB;AAAS,CAAC,KAAK;EAAAyB,GAAA;EACrC,MAAM;IAAEhC,eAAe;IAAEiC;EAAY,CAAC,GAAGpD,OAAO,CAAC,CAAC;EAClD,IAAIoD,WAAW,EAAE;IACb,oBAAO5C,OAAA;MAAAkB,QAAA,EAAK;IAAgC;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC;EACtD;EACA,OAAOX,eAAe,GAAGO,QAAQ,gBAAGlB,OAAA,CAACX,QAAQ;IAACwD,EAAE,EAAC,QAAQ;IAACC,OAAO;EAAA;IAAA3B,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CAAC;AACxE,CAAC;;AAED;AAAAqB,GAAA,CARMD,cAAc;EAAA,QACyBlD,OAAO;AAAA;AAAAuD,GAAA,GAD9CL,cAAc;AASpB,MAAMM,uBAAuB,GAAGA,CAAC;EAAE9B;AAAS,CAAC,KAAK;EAAA+B,GAAA;EAC9C,MAAM,CAACC,aAAa,EAAEC,gBAAgB,CAAC,GAAGjE,QAAQ,CAACkE,cAAc,CAACC,OAAO,CAAC,mBAAmB,CAAC,KAAK,MAAM,CAAC;EAC1G,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGrE,QAAQ,CAAC,CAACgE,aAAa,CAAC;EAChE,MAAM,CAACM,QAAQ,EAAEC,WAAW,CAAC,GAAGvE,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAMwE,QAAQ,GAAGpE,WAAW,CAAC,CAAC;EAE9B,MAAMqE,eAAe,GAAIC,GAAG,IAAK;IAC7B,IAAIA,GAAG,KAAKzD,cAAc,EAAE;MACxBiD,cAAc,CAACS,OAAO,CAAC,mBAAmB,EAAE,MAAM,CAAC;MACnDV,gBAAgB,CAAC,IAAI,CAAC;MACtBI,eAAe,CAAC,KAAK,CAAC;MACtBE,WAAW,CAAC,EAAE,CAAC;IACnB,CAAC,MAAM;MACHA,WAAW,CAAC,kCAAkC,CAAC;IACnD;EACJ,CAAC;EAED,MAAMK,gBAAgB,GAAGA,CAAA,KAAM;IAC3BP,eAAe,CAAC,KAAK,CAAC;IACtBG,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC;EACnB,CAAC;EAED,IAAIR,aAAa,EAAE;IACf,OAAOhC,QAAQ;EACnB;EAEA,IAAIoC,YAAY,EAAE;IACd,oBAAOtD,OAAA,CAACF,QAAQ;MAACiE,QAAQ,EAAEJ,eAAgB;MAACK,OAAO,EAAEF,gBAAiB;MAACrD,KAAK,EAAE+C;IAAS;MAAArC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAC9F;;EAEA;EACA;EACA,oBAAOtB,OAAA,CAACX,QAAQ;IAACwD,EAAE,EAAC,GAAG;IAACC,OAAO;EAAA;IAAA3B,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CAAC;AACtC,CAAC;AAAC2B,GAAA,CAjCID,uBAAuB;EAAA,QAIR1D,WAAW;AAAA;AAAA2E,GAAA,GAJ1BjB,uBAAuB;AAoC7B,SAASkB,SAASA,CAAA,EAAG;EAAAC,GAAA;EACjB,MAAM;IAAExD;EAAgB,CAAC,GAAGnB,OAAO,CAAC,CAAC;EAErC,oBACIQ,OAAA,CAACb,MAAM;IAAA+B,QAAA,gBACHlB,OAAA,CAACZ,KAAK;MAACgF,IAAI,EAAC,QAAQ;MAACC,OAAO,eAAErE,OAAA,CAACN,KAAK;QAAAyB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE;IAAE;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAC3CtB,OAAA,CAACZ,KAAK;MAACgF,IAAI,EAAC,GAAG;MAACC,OAAO,eAAErE,OAAA,CAACP,MAAM;QAAA0B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAE;MAAAJ,QAAA,gBAChClB,OAAA,CAACZ,KAAK;QAACkF,KAAK;QAACD,OAAO,eAAErE,OAAA,CAACJ,iBAAiB;UAAAuB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAE;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eAC/CtB,OAAA,CAACZ,KAAK;QAACgF,IAAI,EAAC,WAAW;QAACC,OAAO,eAAErE,OAAA,CAACJ,iBAAiB;UAAAuB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAE;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eAC1DtB,OAAA,CAACZ,KAAK;QACJgF,IAAI,EAAC,OAAO;QACZC,OAAO,eACLrE,OAAA,CAACgD,uBAAuB;UAAA9B,QAAA,eACtBlB,OAAA,CAACL,aAAa;YAAAwB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACM;MAC1B;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACF,CAAC,eAEFtB,OAAA,CAACZ,KAAK;QAACgF,IAAI,EAAC,mBAAmB;QAACC,OAAO,eAAErE,OAAA,CAACH,gBAAgB;UAAAsB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAE;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC9D,CAAC,eACRtB,OAAA,CAACZ,KAAK;MAACgF,IAAI,EAAC,GAAG;MAACC,OAAO,EAAE1D,eAAe,gBAAGX,OAAA,CAACX,QAAQ;QAACwD,EAAE,EAAC,GAAG;QAACC,OAAO;MAAA;QAAA3B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,gBAAGtB,OAAA,CAACX,QAAQ;QAACwD,EAAE,EAAC,QAAQ;QAACC,OAAO;MAAA;QAAA3B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE;IAAE;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACzG,CAAC;AAEjB;AAAC6C,GAAA,CAvBQD,SAAS;EAAA,QACc1E,OAAO;AAAA;AAAA+E,GAAA,GAD9BL,SAAS;AAyBlB,eAAeA,SAAS;AAAC,IAAAzB,EAAA,EAAAM,GAAA,EAAAkB,GAAA,EAAAM,GAAA;AAAAC,YAAA,CAAA/B,EAAA;AAAA+B,YAAA,CAAAzB,GAAA;AAAAyB,YAAA,CAAAP,GAAA;AAAAO,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}